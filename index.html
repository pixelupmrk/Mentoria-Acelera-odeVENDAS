<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>PixelUp Mentoria</title>
<meta name="theme-color" content="#0ea5ff" />
<style>
  :root{--bg:#0b0f1a;--card:#0e1626;--primary:#0ea5ff;--text:#e6f1ff;--muted:#8aa3c2;--glow:0 12px 40px rgba(0,0,0,.35), inset 0 0 40px rgba(14,165,255,.08)}
  *{box-sizing:border-box}html,body{height:100%}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);
    background:radial-gradient(1000px 500px at 20% -10%, rgba(51,204,255,.16), transparent 60%),
               radial-gradient(800px 400px at 100% 10%, rgba(14,165,255,.14), transparent 60%),var(--bg)}
  .topbar{position:sticky;top:0;display:flex;align-items:center;justify-content:space-between;gap:12px;
    padding:12px 16px;background:rgba(14,22,38,.9);backdrop-filter:blur(8px);border-bottom:1px solid rgba(14,165,255,.25)}
  .brand{font-weight:900;font-size:20px;letter-spacing:.3px;text-shadow:0 0 12px rgba(14,165,255,.5)} .brand span{color:var(--primary)}
  .tools{display:flex;gap:10px;align-items:center}
  .search{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px 12px;color:var(--text);min-width:240px;outline:none}
  .btn{cursor:pointer;padding:10px 14px;border-radius:12px;border:1px solid rgba(14,165,255,.35);
    background:linear-gradient(180deg, rgba(14,165,255,.18), rgba(14,165,255,.06));color:var(--text);font-weight:700}
  .btn.ghost{background:transparent}
  .container{max-width:1080px;margin:24px auto;padding:0 16px}
  .card{background:linear-gradient(180deg, rgba(14,165,255,.08), rgba(14,165,255,.03));border:1px solid rgba(14,165,255,.25);
    border-radius:20px;box-shadow:var(--glow);padding:20px}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
  .module{padding:16px;border-radius:16px;border:1px solid rgba(14,165,255,.25);
    background:linear-gradient(180deg, rgba(14,165,255,.12), rgba(14,165,255,.05))}
  .module h3{margin:10px 0 0}
  .cover{width:100%;aspect-ratio:16/9;border-radius:14px;border:1px solid rgba(14,165,255,.25);
    background:radial-gradient(600px 200px at 20% 0%, rgba(14,165,255,.2), transparent 60%),
               radial-gradient(600px 200px at 100% 40%, rgba(51,204,255,.15), transparent 60%),#0d1322 center/cover no-repeat;
    overflow:hidden;display:grid;place-items:center}
  .cover img{width:100%;height:100%;object-fit:cover;border-radius:14px;display:block}
  .progress{height:10px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;margin:6px 0 8px}
  .progress>i{display:block;height:100%;background:linear-gradient(90deg, var(--primary), rgba(51,204,255,1));width:0%}
  .lesson{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border:1px solid rgba(14,165,255,.25);
    border-radius:12px;margin:10px 0;background:rgba(14,165,255,.06)}
  .badge{padding:4px 8px;border-radius:10px;background:rgba(14,165,255,.16);border:1px solid rgba(14,165,255,.35);font-size:12px}
  .note{color:var(--muted);font-size:14px}
  hr{border:0;height:1px;background:linear-gradient(90deg, rgba(255,255,255,0), rgba(14,165,255,.4), rgba(255,255,255,0));margin:16px 0}
  .form label{display:block;font-weight:600;margin:8px 0 6px}
  .form input[type=text],.form textarea,.form select{width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);
    background:rgba(255,255,255,.06);color:var(--text);outline:none}
  .form textarea{min-height:110px;resize:vertical}
  .foot{padding:24px;text-align:center;color:var(--muted);font-size:14px}
  @media (max-width:560px){.search{min-width:160px}}
</style>
</head>
<body>
<header class="topbar">
  <div class="brand">Pixel<span>Up</span> Mentoria</div>
  <div class="tools">
    <input id="search" class="search" type="search" placeholder="Buscar aulas…" />
    <button id="homeBtn" class="btn ghost" title="Início">Início</button>
  </div>
</header>
<main id="app" class="container"></main>
<footer class="foot">© PixelUp Marketing Digital & Mídia</footer>

<script>
/* —— ANTI-CACHE / ANTI-SW: remove qualquer Service Worker antigo e limpa caches —— */
(async () => {
  try {
    if ('serviceWorker' in navigator) {
      const regs = await navigator.serviceWorker.getRegistrations();
      for (const r of regs) await r.unregister();
    }
    if (window.caches) {
      const keys = await caches.keys();
      await Promise.all(keys.map(k => caches.delete(k)));
    }
  } catch(e) { /* ignora */ }
})();

/* ====== DADOS (M1–M8) ====== */
const DATA = { modules: [
  {slug:"m1", title:"Módulo 1 • Fundamentos do Negócio e Posicionamento", cover:"assets/cover-m1.png",
   summary:"Persona ideal, proposta de valor e plano de serviço.",
   lessons:[
    {slug:"m1-l1", title:"Definição da Persona Ideal (com exercícios)", cover:"assets/cover-m1.png",
     presentation:["Mapeie dores e objetivos.","Liste canais onde a persona está.","Consolide um perfil claro."],
     form:[{id:"persona_nome",label:"Nome (apelido) da persona",type:"text"},
           {id:"persona_dores",label:"Dores/objeções",type:"textarea"},
           {id:"persona_obj",label:"Objetivos/transformação desejada",type:"textarea"},
           {id:"persona_canais",label:"Canais onde está",type:"text"}]},
    {slug:"m1-l2", title:"Proposta de Valor e Diferenciação", cover:"assets/cover-m1.png",
     presentation:["Clareza de promessa → valor percebido.","Mostre provas e diferencial."],
     form:[{id:"pv_frase",label:"Eu ajudo [persona] a [resultado] por meio de [diferencial].",type:"textarea"}]},
    {slug:"m1-l3", title:"Plano de Serviço Ideal", cover:"assets/cover-m1.png",
     presentation:["Escolha básico/intermediário/avançado conforme metas."],
     form:[{id:"plano_escolhido",label:"Plano escolhido",type:"text"},
           {id:"plano_motivo",label:"Motivo da escolha",type:"textarea"}]}
   ]},
  {slug:"m2", title:"Módulo 2 • O Algoritmo do Meta (Facebook & Instagram)", cover:"assets/cover-m2.png",
   summary:"Entrega de conteúdo, alcance orgânico e engajamento inicial.",
   lessons:[
    {slug:"m2-l1", title:"Como o algoritmo funciona", cover:"assets/cover-m2.png",
     presentation:["Testes iniciais para grupos pequenos.","Bons sinais ampliam a entrega."],
     form:[{id:"m2_sinais",label:"Quais sinais quer melhorar (salvos, tempo de exibição...)?",type:"textarea"}]},
    {slug:"m2-l2", title:"O que influencia o alcance", cover:"assets/cover-m2.png",
     presentation:["Frequência, relevância, retenção.","Interações de valor (salvar/compartilhar)."],
     form:[{id:"m2_freq",label:"Frequência por semana",type:"text"},
           {id:"m2_pilares",label:"3 pilares de conteúdo",type:"textarea"}]},
    {slug:"m2-l3", title:"Engajamento inicial", cover:"assets/cover-m2.png",
     presentation:["Primeiros minutos contam; relacionamento prévio ajuda."],
     form:[{id:"m2_ganchos",label:"3 ganchos que vai testar",type:"textarea"}]},
    {slug:"m2-l4", title:"Gancho forte", cover:"assets/cover-m2.png",
     presentation:["Ex.: “3 erros que travam seu IG...”"],
     form:[{id:"m2_5ganchos",label:"Escreva 5 ganchos agora",type:"textarea"}]}
   ]},
  {slug:"m3", title:"Módulo 3 • Cronograma de Postagens Estratégico", cover:"assets/cover-m3.png",
   summary:"Horários/dias, frequência por nicho e modelos de calendário.",
   lessons:[
    {slug:"m3-l1", title:"Melhores horários e dias", cover:"assets/cover-m3.png",
     presentation:["Baseie-se nos Insights do Instagram."],
     form:[{id:"m3_horarios",label:"Seus horários/dias ideais",type:"textarea"}]},
    {slug:"m3-l2", title:"Frequência por nicho", cover:"assets/cover-m3.png",
     presentation:["Defina constância realista para o seu segmento."],
     form:[{id:"m3_freq",label:"Frequência definida",type:"text"}]},
    {slug:"m3-l3", title:"Modelos de calendário", cover:"assets/cover-m3.png",
     presentation:["Categorias: educar, prova social, CTA, oferta."],
     form:[{id:"m3_cal",label:"Rascunho do seu calendário (semana 1)",type:"textarea"}]}
   ]},
  {slug:"m4", title:"Módulo 4 • Conteúdo que Conecta", cover:"assets/cover-m4.png",
   summary:"Vídeos que engajam, edição e identidade.",
   lessons:[
    {slug:"m4-l1", title:"Vídeos: gancho, valor e CTA", cover:"assets/cover-m4.png",
     presentation:["Roteiro: Gancho → Promessa → Entrega → CTA."],
     form:[{id:"m4_roteiro",label:"Roteiro do próximo vídeo (1 min)",type:"textarea"}]},
    {slug:"m4-l2", title:"Edição prática (CapCut/InShot)", cover:"assets/cover-m4.png",
     presentation:["Cortes rápidos, legendas, música leve."],
     form:[{id:"m4_check",label:"Checklist do seu template de edição",type:"textarea"}]},
    {slug:"m4-l3", title:"Design com Canva", cover:"assets/cover-m4.png",
     presentation:["Fontes legíveis, contraste e consistência."],
     form:[{id:"m4_visuais",label:"Fontes/cores/padrões que usará",type:"textarea"}]},
    {slug:"m4-l4", title:"Desafio: 1 dica em 1 minuto", cover:"assets/cover-m4.png",
     presentation:["Publique 1 dica com gancho forte + CTA para salvar."],
     form:[{id:"m4_tema",label:"Tema e CTA do vídeo-desafio",type:"text"}]}
   ]},
  {slug:"m5", title:"Módulo 5 • Copywriting com ChatGPT", cover:"assets/cover-m5.png",
   summary:"Textos persuasivos com IA, fórmulas e prompts.",
   lessons:[
    {slug:"m5-l1", title:"Textos com IA", cover:"assets/cover-m5.png",
     presentation:["Dê contexto, objetivo, persona e restrições."],
     form:[{id:"m5_brief",label:"Briefing para a IA (tema, objetivo, persona, tom)",type:"textarea"}]},
    {slug:"m5-l2", title:"Fórmulas: AIDA, PAS, 4Ps", cover:"assets/cover-m5.png",
     presentation:["Escolha a fórmula e aplique na legenda/anúncio."],
     form:[{id:"m5_formula",label:"Fórmula escolhida e por quê",type:"text"},
           {id:"m5_texto",label:"Rascunho usando a fórmula",type:"textarea"}]},
    {slug:"m5-l3", title:"Prompts inteligentes", cover:"assets/cover-m5.png",
     presentation:["Especifique tarefa, formato, tamanho e tom."],
     form:[{id:"m5_prompt",label:"Seu Prompt Base PixelUp",type:"textarea"}]},
    {slug:"m5-l4", title:"Títulos e legendas que clicam", cover:"assets/cover-m5.png",
     presentation:["Use números, perguntas e benefícios claros."],
     form:[{id:"m5_titulos",label:"Escreva 10 títulos/aberturas",type:"textarea"}]}
   ]},
  {slug:"m6", title:"Módulo 6 • Implementação de CRM", cover:"assets/cover-m6.png",
   summary:"O que é CRM, ferramentas e funil de vendas.",
   lessons:[
    {slug:"m6-l1", title:"O que é CRM e por quê", cover:"assets/cover-m6.png",
     presentation:["Centraliza contatos, histórico e oportunidades."],
     form:[{id:"m6_obj",label:"Objetivo principal com o CRM",type:"text"}]},
    {slug:"m6-l2", title:"Ferramentas (Trello/HubSpot/RD…)", cover:"assets/cover-m6.png",
     presentation:["Comece simples e evolua conforme volume."],
     form:[{id:"m6_tool",label:"Ferramenta escolhida e motivo",type:"text"}]},
    {slug:"m6-l3", title:"Funil básico & organização", cover:"assets/cover-m6.png",
     presentation:["Novo Lead → Contato → Proposta → Negociação → Fechado."],
     form:[{id:"m6_funil",label:"Etapas do seu funil",type:"textarea"},
           {id:"m6_follow",label:"Próximo follow-up (data/ação)",type:"text"}]}
   ]},
  {slug:"m7", title:"Módulo 7 • Processo Comercial e Técnicas de Venda", cover:"assets/cover-m7.png",
   summary:"Pitch, rapport/gatilhos e follow-up consultivo.",
   lessons:[
    {slug:"m7-l1", title:"Pitch que gera interesse", cover:"assets/cover-m7.png",
     presentation:["Quem você ajuda, qual problema resolve e seu diferencial (15–30s)."],
     form:[{id:"m7_pitch",label:"Seu pitch de 30s",type:"textarea"}]},
    {slug:"m7-l2", title:"Rapport, gatilhos e espelhamento", cover:"assets/cover-m7.png",
     presentation:["Conexão genuína + prova social/autoridade; espelhe linguagem."],
     form:[{id:"m7_gatilhos",label:"Gatilhos que usará",type:"textarea"}]},
    {slug:"m7-l3", title:"Follow-up eficiente", cover:"assets/cover-m7.png",
     presentation:["Traga novo valor em cada contato; registre no CRM."],
     form:[{id:"m7_follow",label:"Roteiro do próximo follow-up",type:"textarea"}]}
   ]},
  {slug:"m8", title:"Módulo 8 • Conexão com a Audiência e Humanização", cover:"assets/cover-m8.png",
   summary:"Autenticidade, bastidores e comunidade leal.",
   lessons:[
    {slug:"m8-l1", title:"Conexão real (sem forçar)", cover:"assets/cover-m8.png",
     presentation:["Mostre valores e rotina com autenticidade."],
     form:[{id:"m8_pilares",label:"3 pilares de conexão (temas/histórias)",type:"textarea"}]},
    {slug:"m8-l2", title:"Bastidores e stories", cover:"assets/cover-m8.png",
     presentation:["Use stories para processo e aprendizados."],
     form:[{id:"m8_bastidores",label:"5 ideias de bastidores",type:"textarea"}]},
    {slug:"m8-l3", title:"Comunidade engajada", cover:"assets/cover-m8.png",
     presentation:["Responda DMs, perguntas e crie rituais semanais."],
     form:[{id:"m8_comunidade",label:"Plano simples de comunidade",type:"textarea"}]}
   ]}
]};

/* ====== ESTADO ====== */
const $ = (s,el=document)=>el.querySelector(s), app = $("#app");
const STORE = {
  A:'pxup-answers', P:'pxup-progress',
  getA(){return JSON.parse(localStorage.getItem(this.A)||'{}')},
  setA(v){localStorage.setItem(this.A,JSON.stringify(v))},
  getP(){return JSON.parse(localStorage.getItem(this.P)||'{"done":{}}')},
  setP(v){localStorage.setItem(this.P,JSON.stringify(v))}
};
const pct=(d,t)=>t?Math.round(d/t*100):0;
const modStats=m=>{const d=STORE.getP().done||{};const total=m.lessons.length;const done=m.lessons.filter(l=>d[`${m.slug}/${l.slug}`]).length;return{done,total,pct:pct(done,total)}};
const allStats=()=>{const s=DATA.modules.map(modStats);const d=s.reduce((a,b)=>a+b.done,0), t=s.reduce((a,b)=>a+b.total,0);return{done:d,total:t,pct:pct(d,t)}};
function saveForm(ms,ls){const a=STORE.getA();a[`${ms}/${ls}`]={};[...app.querySelectorAll("[data-field]")].forEach(i=>a[`${ms}/${ls}`][i.dataset.field]=i.value.trim());STORE.setA(a)}
function loadForm(ms,ls){const a=STORE.getA()[`${ms}/${ls}`]||{};[...app.querySelectorAll("[data-field]")].forEach(i=>{if(a[i.dataset.field]!=null)i.value=a[i.dataset.field]})}
function markDone(ms,ls){const p=STORE.getP();p.done||(p.done={});p.done[`${ms}/${ls}`]=true;STORE.setP(p)}

/* ====== RENDER ====== */
function renderHome(){
  const s=allStats();
  app.innerHTML=`
  <section class="card">
    <h1>Mentoria PixelUp • App de Aulas</h1>
    <p class="note">Preencha os questionários e acompanhe seu avanço. (Dados salvos neste dispositivo)</p>
    <div style="display:grid;grid-template-columns:120px 1fr;gap:12px;align-items:center">
      <div class="badge">Progresso geral</div>
      <div><div class="progress"><i style="width:${s.pct}%"></i></div><small>${s.done}/${s.total} aulas • ${s.pct}%</small></div>
    </div>
  </section>
  <section class="grid" style="margin-top:16px">
    ${DATA.modules.map(m=>{const st=modStats(m);return`
      <article class="module">
        <div class="cover">${m.cover?`<img src="${m.cover}" onerror="this.remove()">`:''}</div>
        <h3>${m.title}</h3>
        <p class="note">${m.summary}</p>
        <div class="progress"><i style="width:${st.pct}%"></i></div>
        <small>${st.done}/${st.total} aulas</small>
        <div style="margin-top:10px"><a class="btn" href="#/module/${m.slug}">Ver aulas</a></div>
      </article>`}).join("")}
  </section>`}
function renderModule(slug){
  const m=DATA.modules.find(x=>x.slug===slug); if(!m){app.innerHTML=`<section class="card"><p>Módulo não encontrado.</p></section>`;return}
  const st=modStats(m);
  app.innerHTML=`
  <section class="card">
    <a class="btn ghost" href="#/">← Início</a>
    <div class="cover" style="margin-top:10px">${m.cover?`<img src="${m.cover}" onerror="this.remove()">`:''}</div>
    <h2 style="margin:10px 0">${m.title}</h2>
    <p class="note">${m.summary}</p>
    <div class="progress"><i style="width:${st.pct}%"></i></div><small>${st.done}/${st.total} aulas</small><hr/>
    ${m.lessons.map(l=>{const done=(STORE.getP().done||{})[`${m.slug}/${l.slug}`];return`
      <div class="lesson">
        <div><strong>${l.title}</strong><br><small class="note">${done?'Concluída':'Pendente'}</small></div>
        <a class="btn" href="#/lesson/${m.slug}/${l.slug}">${done?'Revisar':'Abrir'}</a>
      </div>`}).join("")}
  </section>`}
function renderLesson(ms,ls){
  const m=DATA.modules.find(x=>x.slug===ms); const l=m?.lessons.find(x=>x.slug===ls);
  if(!m||!l){app.innerHTML=`<section class="card"><p>Aula não encontrada.</p></section>`;return}
  app.innerHTML=`
  <section class="card">
    <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
      <a class="btn ghost" href="#/module/${m.slug}">← ${m.title}</a><span class="badge">Aula</span>
    </div>
    <div class="cover" style="margin-top:10px">${l.cover?`<img src="${l.cover}" onerror="this.remove()">`:''}</div>
    <h2 style="margin:10px 0">${l.title}</h2>
    <h3>Apresentação</h3>
    <ul class="note" style="line-height:1.6;margin-top:6px">${l.presentation.map(p=>`<li>${p}</li>`).join("")}</ul>
    <hr/>
    <h3>Questionário Prático</h3>
    <form class="form">
      ${l.form.map(q=>{
        const base=\`<label for="\${q.id}">\${q.label}</label>\`;
        if(q.type==="text") return base+\`<input data-field="\${q.id}" id="\${q.id}" type="text" placeholder="Digite aqui...">\`;
        if(q.type==="select") return base+\`<select data-field="\${q.id}" id="\${q.id}">\${(q.options||[]).map(o=>\`<option>\${o}</option>\`).join("")}</select>\`;
        return base+\`<textarea data-field="\${q.id}" id="\${q.id}" placeholder="Escreva aqui..."></textarea>\`;
      }).join("")}
    </form>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
      <button id="saveBtn" class="btn">Salvar respostas</button>
      <button id="doneBtn" class="btn ghost">Marcar como concluída</button>
      <button id="exportBtn" class="btn ghost">Exportar (.json)</button>
      <button id="printBtn" class="btn ghost">Imprimir</button>
    </div>
    <p id="status" class="note" style="margin-top:8px"></p>
  </section>`;
  $("#saveBtn").addEventListener("click",()=>{saveForm(m.slug,l.slug);flash("Respostas salvas!")});
  $("#doneBtn").addEventListener("click",()=>{saveForm(m.slug,l.slug);markDone(m.slug,l.slug);flash("Aula marcada como concluída.")});
  $("#exportBtn").addEventListener("click",()=>{saveForm(m.slug,l.slug);const data=STORE.getA()[`${m.slug}/${l.slug}`]||{};
    const blob=new Blob([JSON.stringify({module:m.title,lesson:l.title,answers:data},null,2)],{type:"application/json"});
    const a=document.createElement("a");a.href=URL.createObjectURL(blob);a.download=`${m.slug}-${l.slug}-respostas.json`;a.click();});
  $("#printBtn").addEventListener("click",()=>window.print());
  loadForm(m.slug,l.slug);
  function flash(msg){const s=$("#status");s.textContent=msg;setTimeout(()=>s.textContent="",2000)}
}
/* ====== ROTEAMENTO & BUSCA ====== */
const $q=(s,el=document)=>el.querySelector(s);
function router(){
  const p=(location.hash||"").slice(1).split("/").filter(Boolean);
  if(!p.length) return renderHome();
  if(p[0]==="module"&&p[1]) return renderModule(p[1]);
  if(p[0]==="lesson"&&p[1]&&p[2]) return renderLesson(p[1],p[2]);
  renderHome();
}
window.addEventListener("hashchange",router);
$("#homeBtn").addEventListener("click",()=>location.hash="");
$("#search").addEventListener("input",e=>{
  const q=e.target.value.toLowerCase().trim(); if(!q){router();return}
  const res=[]; DATA.modules.forEach(m=>m.lessons.forEach(l=>{
    const hay=(m.title+" "+m.summary+" "+l.title+" "+(l.presentation||[]).join(" ")).toLowerCase();
    if(hay.includes(q)) res.push({m,l});
  }));
  app.innerHTML=`<section class="card"><h2>Resultados para: “${q}”</h2>${
    res.length?res.map(({m,l})=>`<div class="lesson"><div><strong>${l.title}</strong><br><small class="note">${m.title}</small></div><a class="btn" href="#/lesson/${m.slug}/${l.slug}">Abrir</a></div>`).join(""):`<p class="note">Nada encontrado.</p>`
  }</section>`;
});
router();
</script>
</body>
</html>
